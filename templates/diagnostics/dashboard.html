{% extends 'base.html' %}
{% block content %}
<h1 class="mb-3">Panel</h1>
<div class="row g-3">
  <div class="col-md-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title">&Uacute;ltimo Speed Test</h5>
        {% if last_speed %}
          <p class="mb-1">Bajada: <strong>{{ last_speed.download_mbps }} Mbps</strong></p>
          <p class="mb-1">Subida: <strong>{{ last_speed.upload_mbps }} Mbps</strong></p>
          <p class="mb-0">Ping: <strong>{{ last_speed.ping_ms }} ms</strong></p>
        {% else %}
          <p class="text-muted">A&uacute;n no se ejecut&oacute;.</p>
        {% endif %}
        <a href="/speedtest/" class="btn btn-primary mt-3">Ejecutar</a>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title">Dispositivos Hoy</h5>
        <p class="display-6">{{ devices_count }}</p>
        <a href="/devices/" class="btn btn-primary">Escanear</a>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title">Redes WiFi Hoy</h5>
        <p class="display-6">{{ wifi_count }}</p>
        <a href="/wifi/" class="btn btn-primary">Analizar</a>
      </div>
    </div>
  </div>
</div>
<div class="row g-3 mt-2">
  <div class="col-lg-8 col-12">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title">Gr&aacute;fico Speed Test</h5>
        <img src="{% url 'speed_chart_image' %}" alt="Gr&aacute;fico Speed Test" class="img-fluid" style="max-height:260px;">
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-12">
    <div class="card shadow-sm">
      <div class="card-body p-0">
        <div class="ad-placeholder text-muted">
          <div>
            <div class="fw-semibold">Espacio para anuncios</div>
            <small>(Ejemplo 300x250)</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
